the LQR calculation using MATLAB

>> m1=0.4

m1 =

    0.4000

>> m2=0.09

m2 =

    0.0900

>> m1

m1 =

    0.4000

>> l1=0.07

l1 =

    0.0700

>> i2=7.938e-05

i2 =

   7.9380e-05

>> g=9.81

g =

    9.8100
 
>> a=m1*l1^2+4*m2*l1^2

a =

    0.0037

>> b=(m1+2*m2)*g*l1

b =

    0.3983

>> A=[0,1,0,0;(b/a),0,0,0;0,0,0,1;(-b/a),0,0,0]

A =

         0    1.0000         0         0
  106.9511         0         0         0
         0         0         0    1.0000
 -106.9511         0         0         0

>> B=[0;(-1/a);0;(a+i2)/(a*i2)]

B =

   1.0e+04 *

         0
   -0.0269
         0
    1.2866

>> Q=diag([1,1,0.001,1],0)

Q =

    1.0000         0         0         0
         0    1.0000         0         0
         0         0    0.0010         0
         0         0         0    1.0000

>> R=1

R =

     1


>> k=lqr(A,B,Q,R)/10

k =

  -98.4496   -9.6210   -0.0032   -0.1006

>> 
